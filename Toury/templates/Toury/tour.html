{% extends 'Toury/base.html' %}
{% block title %}Tours{% endblock %}
{% block extrascripts %}
{% load staticfiles %}
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?libraries=geometry&key=AIzaSyC5zT8GT1qKus12TlMBWfl9Fz8jjta3W9s&sensor=true"></script>
<script type="text/javascript" src="{% static 'my_script.js' %}"></script>
{% endblock %}
{% block style %}
<style type="text/css">
    html { height: 100% }
    .container { padding-top: 0px;}
    #map-canvas { margin-top: 20px; height: 400px; width: 100%;}
</style>
{% endblock %}
{% block content %}
    <div class="container">

        <h1>{{tour.name}}</h1>
        <div class="row">
            <div class="col-md-7">
                <div id="map-canvas"></div>
            </div>
            <div class="col-md-4">
                <form role="form" action="{% url 'tour' tour.id %}" method="post">
                    {% csrf_token %}
                    <div class="form-group">
                        <label for="marker">Marker:</label>
                        <input type="text" class="form-control" id="marker" name="title" placeholder="Enter marker title">
                    </div>
                    <div class="form-group">
                        <label for="description">Description:</label>
                        <textarea rows="10" cols="80" class="form-control" id="description" name='description' placeholder="Description"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="lat">Latitude:</label>
                        <input type="text" class="form-control" id="lat" name="latitude" placeholder="">
                    </div>
                    <div class="form-group">
                        <label for="lng">Longitude:</label>
                        <input type="text" class="form-control" id="lng" name="longitude" placeholder="">
                    </div>
                    <div class="form-group">
                        <label for="direction">Direction:</label>
                        <input type="text" class="form-control" id="direction" name="direction" placeholder="">
                    </div>
                  <button type="submit" class="btn btn-default">Submit</button>
                </form>
            </div>
        </div>
        <br>
        <div class="table-responsive">
        <table class="table table-hover table-bordered">
            <tr>
                <th>
                    Title
                </th>
                <th>
                    Description
                </th>
                <th>
                    Lat
                </th>
                <th>
                    Long
                </th>
                <th>
                    Radius
                </th>
                <th>
                    Direction
                </th>
            </tr>
            {% for marker in tour.markers.all %}
                <tr>
                    <td>
                        <a href="{% url 'marker' marker.id %}">{{ marker.title }}</a>
                    </td>
                    <td>
                        {{ marker.description }}
                    </td>
                    <td>
                        {{marker.latitude}}
                    </td>
                    <td>
                        {{marker.longitude}}
                    </td>
                    <td>
                        {{marker.radius}}
                    </td>
                    <td>
                        {{marker.direction}}
                    </td>
                </tr>
            {% endfor %}

        </table>
        </div>
    </div>
    <br>


{% endblock %}